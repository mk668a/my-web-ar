{"remainingRequest":"/Users/mk/Desktop/webar/node_modules/babel-loader/lib/index.js!/Users/mk/Desktop/webar/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mk/Desktop/webar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mk/Desktop/webar/src/views/create/generator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mk/Desktop/webar/src/views/create/generator.vue","mtime":1574694489815},{"path":"/Users/mk/Desktop/webar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mk/Desktop/webar/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mk/Desktop/webar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mk/Desktop/webar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0IjsKLy8KLy8KLy8KLy8KaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbm5lckltYWdlVVJMOiAiaW5uZXItaW1hZ2VzL2lubmVyLWFyanMucG5nIiwKICAgICAgZnVsbE1hcmtlclVSTDogbnVsbCwKICAgICAgaW1hZ2VOYW1lOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlUGF0dGVybkZpbGVTdHJpbmc6IGZ1bmN0aW9uIGNyZWF0ZVBhdHRlcm5GaWxlU3RyaW5nKCkgewogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsgLy8gY29weSBpbWFnZSBvbiBjYW52YXMKCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY2FudmFzLndpZHRoID0gMTY7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSAxNjsgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpCiAgICAgIC8vIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcyMDBweCcKCiAgICAgIHZhciBwYXR0ZXJuRmlsZVN0cmluZyA9ICIiOwoKICAgICAgZm9yICh2YXIgb3JpZW50YXRpb24gPSAwOyBvcmllbnRhdGlvbiA+IC0yICogTWF0aC5QSTsgb3JpZW50YXRpb24gLT0gTWF0aC5QSSAvIDIpIHsKICAgICAgICAvLyBkcmF3IG9uIGNhbnZhcyAtIGhvbm9yIG9yaWVudGF0aW9uCiAgICAgICAgY29udGV4dC5zYXZlKCk7CiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7CiAgICAgICAgY29udGV4dC5yb3RhdGUob3JpZW50YXRpb24pOwogICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAtY2FudmFzLndpZHRoIC8gMiwgLWNhbnZhcy5oZWlnaHQgLyAyLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgIGNvbnRleHQucmVzdG9yZSgpOyAvLyBnZXQgaW1hZ2VEYXRhCgogICAgICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOyAvLyBnZW5lcmF0ZSB0aGUgcGF0dGVybkZpbGVTdHJpbmcgZm9yIHRoaXMgb3JpZW50YXRpb24KCiAgICAgICAgaWYgKG9yaWVudGF0aW9uICE9PSAwKSBwYXR0ZXJuRmlsZVN0cmluZyArPSAiXG4iOyAvLyBOT1RFIGJnciBvcmRlciBhbmQgbm90IHJnYiEhISBzbyBmcm9tIDIgdG8gMAoKICAgICAgICBmb3IgKHZhciBjaGFubmVsT2Zmc2V0ID0gMjsgY2hhbm5lbE9mZnNldCA+PSAwOyBjaGFubmVsT2Zmc2V0LS0pIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGFubmVsT2Zmc2V0JywgY2hhbm5lbE9mZnNldCkKICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaW1hZ2VEYXRhLmhlaWdodDsgeSsrKSB7CiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgaW1hZ2VEYXRhLndpZHRoOyB4KyspIHsKICAgICAgICAgICAgICBpZiAoeCAhPT0gMCkgcGF0dGVybkZpbGVTdHJpbmcgKz0gIiAiOwogICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogaW1hZ2VEYXRhLndpZHRoICogNCArIHggKiA0ICsgY2hhbm5lbE9mZnNldDsKICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpbWFnZURhdGEuZGF0YVtvZmZzZXRdOwogICAgICAgICAgICAgIHBhdHRlcm5GaWxlU3RyaW5nICs9IFN0cmluZyh2YWx1ZSkucGFkU3RhcnQoMyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBhdHRlcm5GaWxlU3RyaW5nICs9ICJcbiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcGF0dGVybkZpbGVTdHJpbmc7CiAgICB9LAogICAgZ2V0UGF0dDogZnVuY3Rpb24gZ2V0UGF0dCgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgaWYgKHNlbGYuaW5uZXJJbWFnZVVSTCA9PT0gbnVsbCkgewogICAgICAgIGFsZXJ0KCJ1cGxvYWQgYSBmaWxlIGZpcnN0Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmFzc2VydChzZWxmLmlubmVySW1hZ2VVUkwpOwogICAgICBUSFJFRXguQXJQYXR0ZXJuRmlsZS5lbmNvZGVJbWFnZVVSTChzZWxmLmlubmVySW1hZ2VVUkwsIGZ1bmN0aW9uIG9uQ29tcGxldGUocGF0dGVybkZpbGVTdHJpbmcpIHsKICAgICAgICBzZWxmLmZpbGVOYW1lID0gInBhdHRlcm4tIiArIChzZWxmLmltYWdlTmFtZSB8fCAibWFya2VyIikgKyAiLnBhdHQiOyAvLyB0ZWNoIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzY2NTExNS9jcmVhdGUtYS1maWxlLWluLW1lbW9yeS1mb3ItdXNlci10by1kb3dubG9hZC1ub3QtdGhyb3VnaC1zZXJ2ZXIKICAgICAgICAvLyB2YXIgZG9tRWxlbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgLy8gZG9tRWxlbWVudC5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoCiAgICAgICAgLy8gICBuZXcgQmxvYihbcGF0dGVybkZpbGVTdHJpbmddLCB7IHR5cGU6ICJ0ZXh0L3BsYWluIiB9KQogICAgICAgIC8vICk7CiAgICAgICAgLy8gZG9tRWxlbWVudC5kb3dubG9hZCA9IHNlbGYuZmlsZU5hbWU7CiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb21FbGVtZW50KTsKICAgICAgICAvLyBkb21FbGVtZW50LmNsaWNrKCk7CiAgICAgICAgLy8gc3RhdGXjgavjg5Hjgr/jg7zjg7Pjga7jg4Djgqbjg7Pjg63jg7zjg4lVUkzjgpLjgrvjg4Pjg4gKCiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbcGF0dGVybkZpbGVTdHJpbmddLCB7CiAgICAgICAgICB0eXBlOiAidGV4dC9wbGFpbiIKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiZ2V0UGF0dCIpOyAvLyBjb25zb2xlLmxvZyhkb21FbGVtZW50LmhyZWYpOwoKICAgICAgICBzZWxmLiRlbWl0KCJibG9iIiwgYmxvYik7IC8vIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9tRWxlbWVudCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldE1hcmtlcjogZnVuY3Rpb24gZ2V0TWFya2VyKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIGRlYnVnZ2VyCgogICAgICBpZiAoc2VsZi5pbm5lckltYWdlVVJMID09PSBudWxsKSB7CiAgICAgICAgYWxlcnQoInVwbG9hZCBhIGZpbGUgZmlyc3QiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gdGVjaCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2NjUxMTUvY3JlYXRlLWEtZmlsZS1pbi1tZW1vcnktZm9yLXVzZXItdG8tZG93bmxvYWQtbm90LXRocm91Z2gtc2VydmVyCgoKICAgICAgdmFyIGRvbUVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBkb21FbGVtZW50LmhyZWYgPSB0aGlzLmZ1bGxNYXJrZXJVUkw7IC8vIHNldCBmaWxlTmFtZQoKICAgICAgZG9tRWxlbWVudC5kb3dubG9hZCA9ICJwYXR0ZXJuLSIgKyAoc2VsZi5pbWFnZU5hbWUgfHwgIm1hcmtlciIpICsgIi5wbmciOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvbUVsZW1lbnQpOyAvLyDjgq/jg6rjg4Pjgq/jgqTjg5njg7Pjg4jjgafjg4Djgqbjg7Pjg63jg7zjg4kKICAgICAgLy8gZG9tRWxlbWVudC5jbGljaygpOwogICAgICAvLwoKICAgICAgY29uc29sZS5sb2coImdldE1hcmtlciIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvbUVsZW1lbnQpOwogICAgICByZXR1cm4gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIHZhciBpbm5lckltYWdlVVJMID0gbnVsbDsKCiAgICB2YXIgZnVsbE1hcmtlclVSTCA9IG51bGw7IC8vIHZhciBpbWFnZU5hbWUgPSBudWxsOwoKICAgIHNlbGYuaW5uZXJJbWFnZVVSTCA9ICJpbm5lci1pbWFnZXMvaW5uZXItYXJqcy5wbmciOwogICAgdXBkYXRlRnVsbE1hcmtlckltYWdlKCk7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnV0dG9uRG93bmxvYWRFbmNvZGVkIik7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnV0dG9uRG93bmxvYWRGdWxsSW1hZ2UiKTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXR0ZXJuUmF0aW9TbGlkZXIiKS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gdXBkYXRlIHRoZSBwYXR0ZXJuUmF0aW8gbnVtYmVyCiAgICAgIHZhciBwYXR0ZXJuUmF0aW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcGF0dGVyblJhdGlvU2xpZGVyIikudmFsdWUgLyAxMDA7CiAgICAgIHZhciBkb21FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2Zvcj1wYXR0ZXJuUmF0aW9TbGlkZXJdIHNwYW4iKTsKICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSAiXHUzMEQxXHUzMEJGXHUzMEZDXHUzMEYzXHU2QkQ0XHU3Mzg3ICIuY29uY2F0KHBhdHRlcm5SYXRpby50b0ZpeGVkKDIpKTsgLy8gdXBkYXRlIGZ1bGxNYXJrZXJJbWFnZQoKICAgICAgdXBkYXRlRnVsbE1hcmtlckltYWdlKCk7CiAgICB9KTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbWFnZVNpemUiKS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gdXBkYXRlIHRoZSBwYXR0ZXJuUmF0aW8gbnVtYmVyCiAgICAgIHZhciBpbWFnZVNpemUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW1hZ2VTaXplIikudmFsdWU7CiAgICAgIHZhciBkb21FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2Zvcj1pbWFnZVNpemVdIHNwYW4iKTsKICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSAiXHU3NTNCXHU1MENGXHUzMEI1XHUzMEE0XHUzMEJBICIuY29uY2F0KGltYWdlU2l6ZSwgInB4Iik7IC8vIHVwZGF0ZSBmdWxsTWFya2VySW1hZ2UKCiAgICAgIHVwZGF0ZUZ1bGxNYXJrZXJJbWFnZSgpOwogICAgfSk7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYm9yZGVyQ29sb3IiKS5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGltYWdlU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNib3JkZXJDb2xvciIpLnZhbHVlOwogICAgICB2YXIgZG9tRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltmb3I9Ym9yZGVyQ29sb3JdIHNwYW4iKTsgLy8gdXBkYXRlIGZ1bGxNYXJrZXJJbWFnZQoKICAgICAgdXBkYXRlRnVsbE1hcmtlckltYWdlKCk7CiAgICB9KTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNmaWxlaW5wdXQiKS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTsKICAgICAgc2VsZi5pbWFnZU5hbWUgPSBmaWxlLm5hbWU7IC8vIHJlbW92ZSBmaWxlIGV4dGVuc2lvbgoKICAgICAgc2VsZi5pbWFnZU5hbWUgPSBzZWxmLmltYWdlTmFtZS5zdWJzdHJpbmcoMCwgc2VsZi5pbWFnZU5hbWUubGFzdEluZGV4T2YoIi4iKSkgfHwgc2VsZi5pbWFnZU5hbWU7IC8vIGRlYnVnZ2VyCgogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBzZWxmLmlubmVySW1hZ2VVUkwgPSBldmVudC50YXJnZXQucmVzdWx0OwogICAgICAgIHVwZGF0ZUZ1bGxNYXJrZXJJbWFnZSgpOwogICAgICB9OwoKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiB1cGRhdGVGdWxsTWFya2VySW1hZ2UoKSB7CiAgICAgIC8vIGdldCBwYXR0ZXJuUmF0aW8KICAgICAgdmFyIHBhdHRlcm5SYXRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXR0ZXJuUmF0aW9TbGlkZXIiKS52YWx1ZSAvIDEwMDsKICAgICAgdmFyIGltYWdlU2l6ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbWFnZVNpemUiKS52YWx1ZTsKICAgICAgdmFyIGJvcmRlckNvbG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2JvcmRlckNvbG9yIikudmFsdWU7CgogICAgICBmdW5jdGlvbiBoZXhhQ29sb3IoY29sb3IpIHsKICAgICAgICByZXR1cm4gL14jWzAtOUEtRl17Nn0kL2kudGVzdChjb2xvcik7CiAgICAgIH0KCiAgICAgIHZhciBzID0gbmV3IE9wdGlvbigpLnN0eWxlOwogICAgICBzLmNvbG9yID0gYm9yZGVyQ29sb3I7CgogICAgICBpZiAoYm9yZGVyQ29sb3IgPT09ICIiIHx8IHMuY29sb3IgIT0gYm9yZGVyQ29sb3IgJiYgIWhleGFDb2xvcihib3JkZXJDb2xvcikpIHsKICAgICAgICAvLyBpZiBjb2xvciBub3QgdmFsaWQsIHVzZSBibGFjawogICAgICAgIGJvcmRlckNvbG9yID0gImJsYWNrIjsKICAgICAgfQoKICAgICAgVEhSRUV4LkFyUGF0dGVybkZpbGUuYnVpbGRGdWxsTWFya2VyKHNlbGYuaW5uZXJJbWFnZVVSTCwgcGF0dGVyblJhdGlvLCBpbWFnZVNpemUsIGJvcmRlckNvbG9yLCBmdW5jdGlvbiBvbkNvbXBsZXRlKG1hcmtlclVybCkgewogICAgICAgIGZ1bGxNYXJrZXJVUkwgPSBtYXJrZXJVcmw7CiAgICAgICAgdmFyIGZ1bGxNYXJrZXJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgIGZ1bGxNYXJrZXJJbWFnZS5zcmMgPSBmdWxsTWFya2VyVVJMOwogICAgICAgIHNlbGYuZnVsbE1hcmtlclVSTCA9IGZ1bGxNYXJrZXJVUkw7IC8vIHB1dCBmdWxsTWFya2VySW1hZ2UgaW50byAjaW1hZ2VDb250YWluZXIKCiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbWFnZUNvbnRhaW5lciIpOwoKICAgICAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7CiAgICAgICAgfQoKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnVsbE1hcmtlckltYWdlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["generator.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"markerTraining\"></div>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  data() {\n    return {\n      innerImageURL: \"inner-images/inner-arjs.png\",\n      fullMarkerURL: null,\n      imageName: null\n    };\n  },\n  methods: {\n    createPatternFileString() {\n      var image = new Image();\n      // copy image on canvas\n      var canvas = document.createElement(\"canvas\");\n      var context = canvas.getContext(\"2d\");\n      canvas.width = 16;\n      canvas.height = 16;\n\n      // document.body.appendChild(canvas)\n      // canvas.style.width = '200px'\n\n      var patternFileString = \"\";\n      for (\n        var orientation = 0;\n        orientation > -2 * Math.PI;\n        orientation -= Math.PI / 2\n      ) {\n        // draw on canvas - honor orientation\n        context.save();\n        context.clearRect(0, 0, canvas.width, canvas.height);\n        context.translate(canvas.width / 2, canvas.height / 2);\n        context.rotate(orientation);\n        context.drawImage(\n          image,\n          -canvas.width / 2,\n          -canvas.height / 2,\n          canvas.width,\n          canvas.height\n        );\n        context.restore();\n\n        // get imageData\n        var imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n\n        // generate the patternFileString for this orientation\n        if (orientation !== 0) patternFileString += \"\\n\";\n        // NOTE bgr order and not rgb!!! so from 2 to 0\n        for (var channelOffset = 2; channelOffset >= 0; channelOffset--) {\n          // console.log('channelOffset', channelOffset)\n          for (var y = 0; y < imageData.height; y++) {\n            for (var x = 0; x < imageData.width; x++) {\n              if (x !== 0) patternFileString += \" \";\n\n              var offset = y * imageData.width * 4 + x * 4 + channelOffset;\n              var value = imageData.data[offset];\n\n              patternFileString += String(value).padStart(3);\n            }\n            patternFileString += \"\\n\";\n          }\n        }\n      }\n\n      return patternFileString;\n    },\n    getPatt() {\n      const self = this;\n      if (self.innerImageURL === null) {\n        alert(\"upload a file first\");\n        return;\n      }\n      console.assert(self.innerImageURL);\n      THREEx.ArPatternFile.encodeImageURL(\n        self.innerImageURL,\n        function onComplete(patternFileString) {\n          self.fileName = \"pattern-\" + (self.imageName || \"marker\") + \".patt\";\n          // tech from https://stackoverflow.com/questions/3665115/create-a-file-in-memory-for-user-to-download-not-through-server\n          // var domElement = window.document.createElement(\"a\");\n          // domElement.href = window.URL.createObjectURL(\n          //   new Blob([patternFileString], { type: \"text/plain\" })\n          // );\n          // domElement.download = self.fileName;\n          // document.body.appendChild(domElement);\n          // domElement.click();\n\n          // stateにパターンのダウンロードURLをセット\n          var blob = new Blob([patternFileString], { type: \"text/plain\" });\n          console.log(\"getPatt\");\n          // console.log(domElement.href);\n          self.$emit(\"blob\", blob);\n\n          // document.body.removeChild(domElement);\n        }\n      );\n    },\n    getMarker() {\n      const self = this;\n      // debugger\n      if (self.innerImageURL === null) {\n        alert(\"upload a file first\");\n        return;\n      }\n      // tech from https://stackoverflow.com/questions/3665115/create-a-file-in-memory-for-user-to-download-not-through-server\n      var domElement = window.document.createElement(\"a\");\n      domElement.href = this.fullMarkerURL;\n      // set fileName\n      domElement.download = \"pattern-\" + (self.imageName || \"marker\") + \".png\";\n\n      document.body.appendChild(domElement);\n\n      // クリックイベントでダウンロード\n      // domElement.click();\n      //\n      console.log(\"getMarker\");\n\n      document.body.removeChild(domElement);\n\n      return domElement.getAttribute(\"href\");\n    }\n  },\n  mounted() {\n    const self = this;\n\n    // var innerImageURL = null;\n    var fullMarkerURL = null;\n    // var imageName = null;\n    self.innerImageURL = \"inner-images/inner-arjs.png\";\n    updateFullMarkerImage();\n    document.querySelector(\"#buttonDownloadEncoded\");\n\n    document.querySelector(\"#buttonDownloadFullImage\");\n\n    document\n      .querySelector(\"#patternRatioSlider\")\n      .addEventListener(\"input\", function() {\n        // update the patternRatio number\n        var patternRatio =\n          document.querySelector(\"#patternRatioSlider\").value / 100;\n        var domElement = document.querySelector(\n          \"[for=patternRatioSlider] span\"\n        );\n        domElement.innerHTML = `パターン比率 ${patternRatio.toFixed(2)}`;\n        // update fullMarkerImage\n        updateFullMarkerImage();\n      });\n    document.querySelector(\"#imageSize\").addEventListener(\"input\", function() {\n      // update the patternRatio number\n      var imageSize = document.querySelector(\"#imageSize\").value;\n      var domElement = document.querySelector(\"[for=imageSize] span\");\n      domElement.innerHTML = `画像サイズ ${imageSize}px`;\n      // update fullMarkerImage\n      updateFullMarkerImage();\n    });\n    document\n      .querySelector(\"#borderColor\")\n      .addEventListener(\"input\", function() {\n        var imageSize = document.querySelector(\"#borderColor\").value;\n        var domElement = document.querySelector(\"[for=borderColor] span\");\n        // update fullMarkerImage\n        updateFullMarkerImage();\n      });\n    document.querySelector(\"#fileinput\").addEventListener(\"change\", function() {\n      var file = this.files[0];\n      self.imageName = file.name;\n      // remove file extension\n      self.imageName =\n        self.imageName.substring(0, self.imageName.lastIndexOf(\".\")) ||\n        self.imageName;\n      // debugger\n      var reader = new FileReader();\n      reader.onload = function(event) {\n        self.innerImageURL = event.target.result;\n        updateFullMarkerImage();\n      };\n      reader.readAsDataURL(file);\n    });\n\n    function updateFullMarkerImage() {\n      // get patternRatio\n      var patternRatio =\n        document.querySelector(\"#patternRatioSlider\").value / 100;\n      var imageSize = document.querySelector(\"#imageSize\").value;\n      var borderColor = document.querySelector(\"#borderColor\").value;\n      function hexaColor(color) {\n        return /^#[0-9A-F]{6}$/i.test(color);\n      }\n      var s = new Option().style;\n      s.color = borderColor;\n      if (\n        borderColor === \"\" ||\n        (s.color != borderColor && !hexaColor(borderColor))\n      ) {\n        // if color not valid, use black\n        borderColor = \"black\";\n      }\n      THREEx.ArPatternFile.buildFullMarker(\n        self.innerImageURL,\n        patternRatio,\n        imageSize,\n        borderColor,\n        function onComplete(markerUrl) {\n          fullMarkerURL = markerUrl;\n          var fullMarkerImage = document.createElement(\"img\");\n          fullMarkerImage.src = fullMarkerURL;\n          self.fullMarkerURL = fullMarkerURL;\n          // put fullMarkerImage into #imageContainer\n          var container = document.querySelector(\"#imageContainer\");\n          while (container.firstChild)\n            container.removeChild(container.firstChild);\n          container.appendChild(fullMarkerImage);\n        }\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.markerTraining {\n  display: flex;\n\n  .mdl-grid {\n    .mdl-cell {\n      * {\n        margin-bottom: 15px;\n      }\n\n      label {\n        display: block;\n        cursor: pointer;\n\n        * {\n          cursor: pointer;\n        }\n\n        input {\n          display: block;\n        }\n      }\n\n      .mdl-tooltip {\n        display: none;\n      }\n\n      #buttonUpload {\n        border: 1px solid black;\n        border-radius: 5px;\n        padding: 10px;\n      }\n    }\n  }\n\n  #marker {\n    width: 40%;\n    margin: 0 !important;\n  }\n\n  // h1 {\n  //   text-align: center;\n  //   font-size: 500%;\n  // }\n\n  // div.mdl-cell {\n  //   text-align: center;\n  // }\n\n  // h1 a {\n  //   text-decoration: none;\n  // }\n\n  // h1 a:hover {\n  //   text-decoration: underline;\n  // }\n\n  #imageContainer img {\n    width: 100%;\n    max-width: 512px;\n  }\n}\n</style>"],"sourceRoot":"src/views/create"}]}