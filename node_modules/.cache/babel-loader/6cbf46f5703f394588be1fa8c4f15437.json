{"remainingRequest":"/Users/mk/Desktop/git/my-web-ar/node_modules/babel-loader/lib/index.js!/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mk/Desktop/git/my-web-ar/src/views/create/generator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mk/Desktop/git/my-web-ar/src/views/create/generator.vue","mtime":1575261825942},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/babel-loader/lib/index.js","mtime":1575261810540},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js","mtime":1575261824991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwppbXBvcnQgdGhyZWUgZnJvbSAiLi90aHJlZXgtYXJwYXR0ZXJuZmlsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFya2VyV2lkdGg6IDMwMCwKICAgICAgbWFya2VySGVpZ2h0OiAzMDAsCiAgICAgIG1hZ25pOiAwLjUsCiAgICAgIGZyYW1lQ29sb3I6ICIjMDAwIiwKICAgICAgbWFya2VySW1nOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvcGF0dGVybi1tYXJrZXIucG5nIiksCiAgICAgIGVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZEltZzogZnVuY3Rpb24gdXBsb2FkSW1nKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLm1hcmtlckltZyA9IGUudGFyZ2V0LmZpbGVzWzBdOwoKICAgICAgaWYgKHRoaXMubWFya2VySW1nICYmIHRoaXMubWFya2VySW1nLnR5cGUubWF0Y2goL15pbWFnZVwvKHBuZ3xqcGVnKSQvKSkgewogICAgICAgIHRoaXMubWFya2VySW1nID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLm1hcmtlckltZyk7CiAgICAgICAgdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgdG9QYXR0OiBmdW5jdGlvbiB0b1BhdHQoKSB7CiAgICAgIHZhciBUSFJFRXggPSB0aHJlZS5USFJFRXg7CiAgICAgIHZhciBpbm5lckltYWdlVVJMID0gdGhpcy5tYXJrZXJJbWc7CiAgICAgIGNvbnNvbGUubG9nKFRIUkVFeCk7CgogICAgICBpZiAoaW5uZXJJbWFnZVVSTCA9PT0gbnVsbCkgewogICAgICAgIGFsZXJ0KCJ1cGxvYWQgYSBmaWxlIGZpcnN0Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmFzc2VydChpbm5lckltYWdlVVJMKTsKICAgICAgVEhSRUV4LkFyUGF0dGVybkZpbGUuZW5jb2RlSW1hZ2VVUkwoaW5uZXJJbWFnZVVSTCwgZnVuY3Rpb24gb25Db21wbGV0ZShwYXR0ZXJuRmlsZVN0cmluZykgewogICAgICAgIFRIUkVFeC5BclBhdHRlcm5GaWxlLnRyaWdnZXJEb3dubG9hZChwYXR0ZXJuRmlsZVN0cmluZywgInBhdHRlcm4tIiArICJtYXJrZXIiICsgIi5wYXR0Iik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["generator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,QAAA,MAAA,UAAA;AACA,OAAA,KAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,GADA;AAEA,MAAA,YAAA,EAAA,GAFA;AAGA,MAAA,KAAA,EAAA,GAHA;AAIA,MAAA,UAAA,EAAA,MAJA;AAKA,MAAA,SAAA,EAAA,OAAA,CAAA,iCAAA,CALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,CADA,EACA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,SAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;;AAEA,UAAA,KAAA,SAAA,IAAA,KAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,qBAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,GAAA,CAAA,eAAA,CAAA,KAAA,SAAA,CAAA;AACA,aAAA,KAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,GAAA,IAAA;AACA;AACA,KAXA;AAYA,IAAA,MAZA,oBAYA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,aAAA,GAAA,KAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AAEA,UAAA,aAAA,KAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,qBAAA,CAAA;AACA;AACA;;AACA,MAAA,OAAA,CAAA,MAAA,CAAA,aAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,cAAA,CAAA,aAAA,EAAA,SAAA,UAAA,CACA,iBADA,EAEA;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,eAAA,CACA,iBADA,EAEA,aAAA,QAAA,GAAA,OAFA;AAIA,OAPA;AAQA;AA9BA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"marker-training\">\n    <div class=\"marker-frame\" :style=\"{background: frameColor}\">\n      <div\n        class=\"marker-img\"\n        :style=\"{width: (markerWidth*magni)+'px', height: (markerHeight*magni)+'px'}\"\n      >\n        <img v-if=\"markerImg\" :src=\"markerImg\" />\n      </div>\n    </div>\n\n    <div class=\"params\">\n      <div class=\"frame-size\">\n        <input type=\"range\" v-model=\"magni\" step=\"0.01\" min=\"0.1\" max=\"0.9\" />\n        {{magni}}\n      </div>\n\n      <div class=\"frame-color\">\n        <input type=\"color\" v-model=\"frameColor\" />\n      </div>\n\n      <div class=\"marker-img\">\n        <input type=\"file\" name=\"marker-img\" accept=\"image/*\" @change=\"uploadImg\" />\n        <div v-if=\"error\">画像でない</div>\n      </div>\n    </div>\n\n    <button @click=\"toPatt\">toPatt</button>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase\";\nimport three from \"./threex-arpatternfile\";\n\nexport default {\n  data() {\n    return {\n      markerWidth: 300,\n      markerHeight: 300,\n      magni: 0.5,\n      frameColor: \"#000\",\n      markerImg: require(\"@/assets/img/pattern-marker.png\"),\n      error: false\n    };\n  },\n  methods: {\n    uploadImg(e) {\n      e.preventDefault();\n      this.markerImg = e.target.files[0];\n\n      if (this.markerImg && this.markerImg.type.match(/^image\\/(png|jpeg)$/)) {\n        this.markerImg = URL.createObjectURL(this.markerImg);\n        this.error = false;\n      } else {\n        this.error = true;\n      }\n    },\n    toPatt() {\n      var THREEx = three.THREEx;\n      var innerImageURL = this.markerImg;\n      console.log(THREEx);\n\n      if (innerImageURL === null) {\n        alert(\"upload a file first\");\n        return;\n      }\n      console.assert(innerImageURL);\n      THREEx.ArPatternFile.encodeImageURL(innerImageURL, function onComplete(\n        patternFileString\n      ) {\n        THREEx.ArPatternFile.triggerDownload(\n          patternFileString,\n          \"pattern-\" + \"marker\" + \".patt\"\n        );\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.marker-training {\n  display: flex;\n\n  .marker-frame {\n    display: flex;\n    width: 300px;\n    height: 300px;\n\n    .marker-img {\n      margin: auto;\n      background: #fff;\n\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views/create"}]}