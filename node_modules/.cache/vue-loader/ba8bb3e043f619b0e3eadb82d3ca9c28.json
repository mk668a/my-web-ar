{"remainingRequest":"/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mk/Desktop/git/my-web-ar/src/views/create/model.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mk/Desktop/git/my-web-ar/src/views/create/model.vue","mtime":1575261825942},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/babel-loader/lib/index.js","mtime":1575261810540},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3I6ICIjZTY2NDY1IiwKICAgICAgZm9udENvbG9yOiAiIzJCMzlDQyIsCiAgICAgIHRleHQ6ICJIZWxsbywgV29ybGQhIiwKICAgICAgc2hhcGU6ICJhLWJveCIsCiAgICAgIHJvdGF0aW9uOiAiLTkwIDAgMCIsCiAgICAgIGRlcHRoOiAxLAogICAgICB3aWR0aDogMSwKICAgICAgaGVpZ2h0OiAxLAogICAgICBwb3NpdGlvbjogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB6OiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGVNb2RlbCgpIHsKICAgICAgdmFyIGNyZWF0ZWRNb2RlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVhdGVkTW9kZWwiKTsKICAgICAgdmFyIG1vZGVsTGlzdCA9IFtdOwoKICAgICAgaWYgKGNyZWF0ZWRNb2RlbCkgewogICAgICAgIHZhciBtb2RlbCA9IGNyZWF0ZWRNb2RlbC5jaGlsZE5vZGVzOwogICAgICAgIHZhciBhc2NlbmUgPSBtb2RlbFsyXS5jaGlsZE5vZGVzWzBdOwogICAgICAgIHZhciBhc2NlbmVDaGlsZCA9IGFzY2VuZS5jaGlsZE5vZGVzOwoKICAgICAgICBmb3IgKHZhciBpIGluIGFzY2VuZUNoaWxkKSB7CiAgICAgICAgICB2YXIgTm9kZV9pID0gYXNjZW5lQ2hpbGRbaV07CiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBOb2RlX2kubm9kZU5hbWU7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGFzY2VuZUNoaWxkW2ldLm5vZGVOYW1lICYmCiAgICAgICAgICAgIG5vZGVOYW1lLnNsaWNlKDAsIDIpID09ICJBLSIgJiYKICAgICAgICAgICAgbm9kZU5hbWUgIT0gIkEtRU5USVRZIgogICAgICAgICAgKSB7CiAgICAgICAgICAgIC8vIOODl+ODquODn+ODhuOCo+ODluOBqkhUTUzjgavlrZjlnKjjgZfjgarjgYRBdHRyaWJ1dGXjga7lgKTjgpLoqK3lrpoKCiAgICAgICAgICAgIGZvciAodmFyIGogaW4gTm9kZV9pLmF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhOb2RlX2kuYXR0cmlidXRlc1tqXSk7CgogICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZeWQjeOCkuWPluW+lwogICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gTm9kZV9pLmF0dHJpYnV0ZXNbal0ubG9jYWxOYW1lOwogICAgICAgICAgICAgIC8vIG1hdGVyaWFsLCBnZW9tZXRyeeS7peWkluOBrkF0dHJpYnV0ZeOCkuioreWumgogICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lICE9ICJtYXRlcmlhbCIgJiYgYXR0cmlidXRlTmFtZSAhPSAiZ2VvbWV0cnkiKSB7CiAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGXjga7lgKTjgpLlj5blvpcKICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBOb2RlX2kuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpOwoKICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImF0dHJpYnV0ZSIpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdHRyaWJ1dGUpOwoKICAgICAgICAgICAgICAgICAgdmFyIG5vZGVWYWx1ZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgICBub2RlVmFsdWUgPSBhdHRyaWJ1dGU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGUpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4ga2V5cykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXlzW2tdOwogICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlW2tleXNba11dOwogICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgICAgICAgICBub2RlVmFsdWUgKz0gYCR7dmFsdWV9IGA7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vZGVWYWx1ZSArPSBgJHtuYW1lfTogJHt2YWx1ZX07IGA7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZeOBruWApOOCkuOCu+ODg+ODiOOBmeOCiwogICAgICAgICAgICAgICAgICBOb2RlX2kuYXR0cmlidXRlc1tqXS5ub2RlVmFsdWUgPSBub2RlVmFsdWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG1vZGVsTGlzdC5wdXNoKE5vZGVfaS5vdXRlckhUTUwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbW9kZWxMaXN0OwogICAgfQogIH0KfTsK"},{"version":3,"sources":["model.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"model.vue","sourceRoot":"src/views/create","sourcesContent":["<template>\n  <div id=\"model\">\n    <a-scene embedded id=\"createdScene\">\n      <a-text :value=\"text\" :color=\"fontColor\" position=\"0 1 0\"></a-text>\n      <a-box\n        :position=\"position.x+' '+position.y+' '+position.z\"\n        :color=\"color\"\n        :rotation=\"rotation\"\n        :width=\"width\"\n        :height=\"height\"\n      ></a-box>\n      <a-entity camera look-controls position=\"1 1.5 3\"></a-entity>\n    </a-scene>\n    <div id=\"setParams\">\n      <span>\n        <label for=\"model\">色</label>\n        <input type=\"color\" id=\"model-color\" name=\"model-color\" value=\"color\" v-model=\"color\" />\n      </span>\n      <span>\n        <label for=\"model\">縦</label>\n        <input type=\"range\" id=\"model-depth\" name=\"model-depth\" value=\"depth\" v-model=\"depth\" />\n        {{depth}}\n      </span>\n      <span>\n        <label for=\"model\">横</label>\n        <input type=\"range\" id=\"model-width\" name=\"model-width\" value=\"width\" v-model=\"width\" />\n        {{width}}\n      </span>\n      <span>\n        <label for=\"model\">高さ</label>\n        <input type=\"range\" id=\"model-height\" name=\"model-height\" value=\"height\" v-model=\"height\" />\n        {{height}}\n      </span>\n      <!-- <span>\n        <label for=\"model\">形</label>\n        <el-select name=\"shape\" v-model=\"shape\">\n          <el-option value=\"a-box\">BOX</el-option>\n        </el-select>\n      </span>-->\n      <span>\n        <label for=\"model\">文字色</label>\n        <input\n          type=\"color\"\n          id=\"model-fontColor\"\n          name=\"model-fontColor\"\n          value=\"fontColor\"\n          v-model=\"fontColor\"\n        />\n      </span>\n      <span>\n        <label for=\"model\">テキスト</label>\n        <input type=\"text\" id=\"model-text\" name=\"model-text\" value=\"text\" v-model=\"text\" />\n      </span>\n    </div>\n  </div>\n</template>\n\n<script >\nexport default {\n  data() {\n    return {\n      color: \"#e66465\",\n      fontColor: \"#2B39CC\",\n      text: \"Hello, World!\",\n      shape: \"a-box\",\n      rotation: \"-90 0 0\",\n      depth: 1,\n      width: 1,\n      height: 1,\n      position: {\n        x: 0,\n        y: 0,\n        z: 0\n      }\n    };\n  },\n  methods: {\n    createModel() {\n      var createdModel = document.getElementById(\"createdModel\");\n      var modelList = [];\n\n      if (createdModel) {\n        var model = createdModel.childNodes;\n        var ascene = model[2].childNodes[0];\n        var asceneChild = ascene.childNodes;\n\n        for (var i in asceneChild) {\n          var Node_i = asceneChild[i];\n          var nodeName = Node_i.nodeName;\n          if (\n            asceneChild[i].nodeName &&\n            nodeName.slice(0, 2) == \"A-\" &&\n            nodeName != \"A-ENTITY\"\n          ) {\n            // プリミティブなHTMLに存在しないAttributeの値を設定\n\n            for (var j in Node_i.attributes) {\n              console.log(Node_i.attributes[j]);\n\n              // Attribute名を取得\n              var attributeName = Node_i.attributes[j].localName;\n              // material, geometry以外のAttributeを設定\n              if (attributeName != \"material\" && attributeName != \"geometry\") {\n                // Attributeの値を取得\n                var attribute = Node_i.getAttribute(attributeName);\n\n                if (attribute) {\n                  console.log(\"attribute\");\n                  console.log(attribute);\n\n                  var nodeValue = \"\";\n\n                  if (typeof attribute == \"string\") {\n                    nodeValue = attribute;\n                  } else {\n                    var keys = Object.keys(attribute);\n                    for (var k in keys) {\n                      var name = keys[k];\n                      var value = attribute[keys[k]];\n                      if (typeof value != \"object\") {\n                        nodeValue += `${value} `;\n                        // nodeValue += `${name}: ${value}; `;\n                      }\n                    }\n                  }\n                  // Attributeの値をセットする\n                  Node_i.attributes[j].nodeValue = nodeValue;\n                }\n              }\n            }\n            modelList.push(Node_i.outerHTML);\n          }\n        }\n      }\n      return modelList;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n// @import \"../assets/style/vr.scss\";\n#model {\n  display: flex;\n\n  #setParams {\n    margin: 10px !important;\n    display: block;\n    width: 50%;\n\n    span {\n      display: block;\n      width: 100%;\n\n      label {\n        display: block;\n      }\n    }\n  }\n}\n</style>\n"]}]}