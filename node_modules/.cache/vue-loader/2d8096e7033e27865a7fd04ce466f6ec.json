{"remainingRequest":"/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mk/Desktop/git/my-web-ar/src/views/create/generator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mk/Desktop/git/my-web-ar/src/views/create/generator.vue","mtime":1575261825942},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/babel-loader/lib/index.js","mtime":1575261810540},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/cache-loader/dist/cjs.js","mtime":1575261812576},{"path":"/Users/mk/Desktop/git/my-web-ar/node_modules/vue-loader/lib/index.js","mtime":1575261824991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CmltcG9ydCB0aHJlZSBmcm9tICIuL3RocmVleC1hcnBhdHRlcm5maWxlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFya2VyV2lkdGg6IDMwMCwKICAgICAgbWFya2VySGVpZ2h0OiAzMDAsCiAgICAgIG1hZ25pOiAwLjUsCiAgICAgIGZyYW1lQ29sb3I6ICIjMDAwIiwKICAgICAgbWFya2VySW1nOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvcGF0dGVybi1tYXJrZXIucG5nIiksCiAgICAgIGVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZEltZyhlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5tYXJrZXJJbWcgPSBlLnRhcmdldC5maWxlc1swXTsKCiAgICAgIGlmICh0aGlzLm1hcmtlckltZyAmJiB0aGlzLm1hcmtlckltZy50eXBlLm1hdGNoKC9eaW1hZ2VcLyhwbmd8anBlZykkLykpIHsKICAgICAgICB0aGlzLm1hcmtlckltZyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tYXJrZXJJbWcpOwogICAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHRvUGF0dCgpIHsKICAgICAgdmFyIFRIUkVFeCA9IHRocmVlLlRIUkVFeDsKICAgICAgdmFyIGlubmVySW1hZ2VVUkwgPSB0aGlzLm1hcmtlckltZzsKICAgICAgY29uc29sZS5sb2coVEhSRUV4KTsKCiAgICAgIGlmIChpbm5lckltYWdlVVJMID09PSBudWxsKSB7CiAgICAgICAgYWxlcnQoInVwbG9hZCBhIGZpbGUgZmlyc3QiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc29sZS5hc3NlcnQoaW5uZXJJbWFnZVVSTCk7CiAgICAgIFRIUkVFeC5BclBhdHRlcm5GaWxlLmVuY29kZUltYWdlVVJMKGlubmVySW1hZ2VVUkwsIGZ1bmN0aW9uIG9uQ29tcGxldGUoCiAgICAgICAgcGF0dGVybkZpbGVTdHJpbmcKICAgICAgKSB7CiAgICAgICAgVEhSRUV4LkFyUGF0dGVybkZpbGUudHJpZ2dlckRvd25sb2FkKAogICAgICAgICAgcGF0dGVybkZpbGVTdHJpbmcsCiAgICAgICAgICAicGF0dGVybi0iICsgIm1hcmtlciIgKyAiLnBhdHQiCiAgICAgICAgKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["generator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"generator.vue","sourceRoot":"src/views/create","sourcesContent":["<template>\n  <div class=\"marker-training\">\n    <div class=\"marker-frame\" :style=\"{background: frameColor}\">\n      <div\n        class=\"marker-img\"\n        :style=\"{width: (markerWidth*magni)+'px', height: (markerHeight*magni)+'px'}\"\n      >\n        <img v-if=\"markerImg\" :src=\"markerImg\" />\n      </div>\n    </div>\n\n    <div class=\"params\">\n      <div class=\"frame-size\">\n        <input type=\"range\" v-model=\"magni\" step=\"0.01\" min=\"0.1\" max=\"0.9\" />\n        {{magni}}\n      </div>\n\n      <div class=\"frame-color\">\n        <input type=\"color\" v-model=\"frameColor\" />\n      </div>\n\n      <div class=\"marker-img\">\n        <input type=\"file\" name=\"marker-img\" accept=\"image/*\" @change=\"uploadImg\" />\n        <div v-if=\"error\">画像でない</div>\n      </div>\n    </div>\n\n    <button @click=\"toPatt\">toPatt</button>\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase\";\nimport three from \"./threex-arpatternfile\";\n\nexport default {\n  data() {\n    return {\n      markerWidth: 300,\n      markerHeight: 300,\n      magni: 0.5,\n      frameColor: \"#000\",\n      markerImg: require(\"@/assets/img/pattern-marker.png\"),\n      error: false\n    };\n  },\n  methods: {\n    uploadImg(e) {\n      e.preventDefault();\n      this.markerImg = e.target.files[0];\n\n      if (this.markerImg && this.markerImg.type.match(/^image\\/(png|jpeg)$/)) {\n        this.markerImg = URL.createObjectURL(this.markerImg);\n        this.error = false;\n      } else {\n        this.error = true;\n      }\n    },\n    toPatt() {\n      var THREEx = three.THREEx;\n      var innerImageURL = this.markerImg;\n      console.log(THREEx);\n\n      if (innerImageURL === null) {\n        alert(\"upload a file first\");\n        return;\n      }\n      console.assert(innerImageURL);\n      THREEx.ArPatternFile.encodeImageURL(innerImageURL, function onComplete(\n        patternFileString\n      ) {\n        THREEx.ArPatternFile.triggerDownload(\n          patternFileString,\n          \"pattern-\" + \"marker\" + \".patt\"\n        );\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.marker-training {\n  display: flex;\n\n  .marker-frame {\n    display: flex;\n    width: 300px;\n    height: 300px;\n\n    .marker-img {\n      margin: auto;\n      background: #fff;\n\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>"]}]}